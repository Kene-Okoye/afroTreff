import{r as c,u as N,S as $,a as j,j as e,p as h,N as y,b as L,L as E}from"./index-Bxl9WmHa.js";import{L as C}from"./LinkOpenInNewWindow-DPRY1dEp.js";import{a as S}from"./afrotreff_logo-BE8BSKuz.js";const A=()=>{const n=c.useRef(null),s=N();return c.useEffect(()=>{n.current&&n.current.focus(),(n.current&&s.pathname==="/en"||n.current&&s.pathname==="/de")&&(n.current.textContent="home page"),n.current&&s.pathname!=="/"&&(n.current.textContent="Navigated to the "+(s==null?void 0:s.pathname.split("/").pop())+" page",document.title=`${s==null?void 0:s.pathname.split("/").pop()} | Afrotreff`)},[s.pathname]),{activePageAnnouncerRef:n}},q=()=>c.useContext($),R="_logo_1lqwe_31",r={"logo-image":"_logo-image_1lqwe_31",logo:R,"skip-to-main":"_skip-to-main_1lqwe_57","nav-fixed":"_nav-fixed_1lqwe_131","focus-indicator":"_focus-indicator_1lqwe_147","sub-menu":"_sub-menu_1lqwe_199","sub-menu--button-arrow-up":"_sub-menu--button-arrow-up_1lqwe_203","child-active":"_child-active_1lqwe_221","sub-menu--button":"_sub-menu--button_1lqwe_203","main-menu":"_main-menu_1lqwe_245","sub-menu--button-arrow-down":"_sub-menu--button-arrow-down_1lqwe_387","visually-hidden":"_visually-hidden_1lqwe_695","hamburger-menu":"_hamburger-menu_1lqwe_715","is-active":"_is-active_1lqwe_743","hamburger-menu-inner":"_hamburger-menu-inner_1lqwe_743","hamburger-menu-box":"_hamburger-menu-box_1lqwe_755","hamburger-menu--spring":"_hamburger-menu--spring_1lqwe_837","hamburger-menu-label":"_hamburger-menu-label_1lqwe_903"},k=`modal-dialog-style-${Date.now()}`,I=(n,s)=>{const i=c.useRef(null),_=c.useRef(null),m=c.useRef(null),[p,o]=c.useState(!1);return c.useEffect(()=>{var w;const t=document.querySelector("#root"),u=_.current,b=u?Array.from(u.querySelectorAll("*")):[],g=t?Array.from(t.querySelectorAll("*")).filter(a=>u&&!a.contains(u)&&!b.includes(a)):[],v=m.current;let x=null;const f=a=>{const d=document.head.querySelector(`style[id="${k}"]`);a.key==="Escape"&&(s(),o(!0),d==null||d.remove())};if(n){g.forEach(d=>{d==null||d.setAttribute("inert",""),d==null||d.setAttribute("aria-hidden","true"),d.style.pointerEvents="none",d.style.backgroundColor="rgba(0, 0, 0, 0.5)",d.style.transition="all 0.5s"}),x=setTimeout(()=>{v==null||v.focus()},100);const a=document.createElement("style");a.setAttribute("type","text/css"),a.setAttribute("id",k),a.textContent="html, body { height: auto ! important ; overflow: hidden ! important ; }",document.head.prepend(a),document.addEventListener("keydown",f)}else g.forEach(a=>{a==null||a.removeAttribute("inert"),a==null||a.removeAttribute("aria-hidden"),a.style.pointerEvents="",a.style.backgroundColor="",a.style.transition=""}),(w=document.head.querySelector(`style[id="${k}"]`))==null||w.remove(),document.removeEventListener("keydown",f);return()=>{g.forEach(a=>{a==null||a.removeAttribute("inert"),a==null||a.removeAttribute("aria-hidden"),a.style.pointerEvents="",a.style.backgroundColor="",a.style.transition=""}),x&&clearTimeout(x),document.removeEventListener("keydown",f)}},[n,s]),c.useEffect(()=>{var t;!n&&p&&((t=i.current)==null||t.focus(),o(!1))},[n,p]),{triggerRef:i,dialogRef:_,firstFocusableElementRef:m}},T=({firstFocusableElementRef:n,onNavLinkClick:s})=>{const[i,_]=c.useState(!1),m=c.useRef(null),{i18n:p,t:o}=j(),t=p.resolvedLanguage,u=N(),b=u==null?void 0:u.pathname.split("/").pop(),g=()=>{_(!i)},v=()=>{_(!1)},x=()=>{g()},f=()=>{s(),v()},w=a=>{a.key==="Escape"&&v()};return c.useEffect(()=>(document.addEventListener("keydown",w),()=>{document.removeEventListener("keydown",w)}),[]),e.jsx(e.Fragment,{children:e.jsxs("ul",{role:"list",className:r["main-menu"],children:[e.jsxs("li",{className:`${r["sub-menu"]}`,children:[e.jsx("button",{type:"button",ref:n,onClick:x,"aria-expanded":i,className:`${r["sub-menu--button"]} ${r["sub-menu--button-arrow-down"]} ${i&&r["sub-menu--button-arrow-up"]} ${(h[t].VISION_AND_TEAM===b||h[t].ALBUMS===b||h[t].BLOG===b)&&r["child-active"]}`,children:o("about")}),e.jsxs("ul",{ref:m,children:[e.jsx("li",{children:e.jsx(y,{to:`/${t}/${h[t].VISION_AND_TEAM}`,onClick:f,children:o("vision_and_team")})}),e.jsx("li",{children:e.jsx(y,{to:`/${t}/${h[t].ALBUMS}`,onClick:f,children:o("albums")})}),e.jsx("li",{children:e.jsx(y,{to:`/${t}/${h[t].BLOG}`,onClick:f,children:o("blog")})})]})]}),e.jsx("li",{children:e.jsx(y,{to:`/${t}/${h[t].ACTIVITIES}`,onClick:f,children:o("activities")})}),e.jsx("li",{children:e.jsx(y,{to:`/${t}/${h[t].SUPPORT_US}`,onClick:f,children:o("get_involved")})}),e.jsx("li",{children:e.jsx(C,{href:"https://community.afrotreff.com/",text:"Community",hideOpenInNewTablIcon:!0})})]})})},M=()=>{const n=N(),s=L(),{i18n:i}=j(),_=t=>{const u=t.target.value;i.changeLanguage(u,()=>{m(),o(u)})},m=c.useCallback(()=>{i.resolvedLanguage&&document.documentElement.setAttribute("lang",i.resolvedLanguage)},[i.resolvedLanguage]),p=t=>{for(const u in h){const b=h[u];for(const g in b)if(b[g]===t)return g}return null},o=c.useCallback(t=>{const u=n.pathname,b=u.split("/")[1],g=u.split("/")[2],v=p(g||b),x=g?`/${t}/${h[t][v]}`:`/${t}`;s(x,{replace:!0})},[n.pathname,s]);return{handleLanguageChange:_}},l={"visually-hidden":"_visually-hidden_2t8gn_1","language-switch__fieldset":"_language-switch__fieldset_2t8gn_21","language-switch__input":"_language-switch__input_2t8gn_35","language-switch__label":"_language-switch__label_2t8gn_49","language-switch__label--en":"_language-switch__label--en_2t8gn_63","language-switch__label--de":"_language-switch__label--de_2t8gn_71","language-switch__lable-aria-description":"_language-switch__lable-aria-description_2t8gn_89"},F=()=>{const{i18n:n}=j(),{handleLanguageChange:s}=M();return e.jsx(e.Fragment,{children:e.jsxs("fieldset",{className:l["language-switch__fieldset"],children:[e.jsx("legend",{className:`${l["language-switch__legend"]} ${l["visually-hidden"]}`,children:"Select your preferred language:"}),e.jsxs("div",{className:l["language-switch__input-wrapper"],children:[e.jsx("input",{className:`${l["language-switch__input"]} ${l["visually-hidden"]}`,id:"language-en",lang:"en",type:"radio",name:"language",value:"en","aria-describedby":"eng-en",defaultChecked:n.resolvedLanguage==="en",onChange:s},"en"),e.jsxs("label",{className:`${l["language-switch__label"]} ${l["language-switch__label--en"]}`,lang:"en",htmlFor:"language-en",children:[e.jsx("span",{"aria-hidden":"true",children:"EN"}),e.jsx("span",{className:l["visually-hidden"],children:"English"})]})]}),e.jsxs("div",{className:l["language-switch__input-wrapper"],children:[e.jsx("input",{className:`${l["language-switch__input"]} ${l["visually-hidden"]}`,id:"language-de",lang:"de",type:"radio",name:"language",value:"de","aria-describedby":"eng-de",defaultChecked:n.resolvedLanguage==="de",onChange:s},"de"),e.jsxs("label",{className:`${l["language-switch__label"]} ${l["language-switch__label--de"]}`,lang:"de",htmlFor:"language-de",children:[e.jsx("span",{"aria-hidden":"true",children:"DE"}),e.jsx("span",{className:l["visually-hidden"],children:"Deutsch"})]}),e.jsx("span",{className:`${l["language-switch__lable-aria-description"]} ${l["visually-hidden"]}`,lang:"en",id:"eng-de",children:"German"})]})]})})},O=()=>{const[n,s]=c.useState(!1),i=()=>{m()},_=()=>{s(!n)},m=()=>{s(!1)},{triggerRef:p,dialogRef:o,firstFocusableElementRef:t}=I(n,m);return e.jsx(e.Fragment,{children:e.jsxs("nav",{ref:o,id:"main-nav","aria-label":"Select a page",className:`${n&&r["nav-fixed"]}`,children:[e.jsx(F,{}),e.jsxs("button",{ref:p,type:"button","aria-expanded":n,"aria-controls":"main-nav",onClick:_,className:`${r["hamburger-menu"]} ${r["hamburger-menu--spring"]} ${n&&r["is-active"]}`,children:[e.jsx("span",{className:r["hamburger-menu-box"],children:e.jsx("span",{className:r["hamburger-menu-inner"]})}),!n&&e.jsx("span",{className:`${r["hamburger-menu-label"]} ${r["visually-hidden"]}`,children:"menu"}),n&&e.jsx("span",{className:`${r["hamburger-menu-label"]} ${r["visually-hidden"]}`,children:"close"})]}),e.jsx(T,{firstFocusableElementRef:t,onNavLinkClick:i})]})})},D=()=>{const{activePageAnnouncerRef:n}=A(),s=q(),i=s==null?void 0:s.setSkipNavClicked,_=()=>{i&&i(!0)},{i18n:m,t:p}=j(),o=m.resolvedLanguage;return e.jsxs(e.Fragment,{children:[e.jsx("div",{tabIndex:-1,ref:n,className:r["visually-hidden"]}),e.jsxs("header",{children:[e.jsx("a",{href:"#main-content",className:r["skip-to-main"],onClick:_,children:p("skip_to_main_content")}),e.jsx(E,{to:`/${h[o].HOME}`,className:r.logo,children:e.jsx("img",{src:S,alt:`${p("afroTreff_homepage")}`,className:r["logo-image"]})}),e.jsx(O,{})]})]})};export{D as default};
