import{r as t,u as y,j as e,p as a,N as p,L as j}from"./index-fd4f1483.js";import{a as v}from"./afrotreff_logo-96f33fdc.js";const E="_logo_xyl9p_31",r={"logo-image":"_logo-image_xyl9p_31",logo:E,"skip-to-main":"_skip-to-main_xyl9p_57","nav-fixed":"_nav-fixed_xyl9p_129","focus-indicator":"_focus-indicator_xyl9p_145","sub-menu":"_sub-menu_xyl9p_197","sub-menu--button-arrow-up":"_sub-menu--button-arrow-up_xyl9p_201","child-active":"_child-active_xyl9p_217","main-menu":"_main-menu_xyl9p_231","sub-menu--button-arrow-down":"_sub-menu--button-arrow-down_xyl9p_347","hamburger-menu":"_hamburger-menu_xyl9p_631","is-active":"_is-active_xyl9p_659","hamburger-menu-inner":"_hamburger-menu-inner_xyl9p_659","hamburger-menu-box":"_hamburger-menu-box_xyl9p_671","hamburger-menu--spring":"_hamburger-menu--spring_xyl9p_753","hamburger-menu-label":"_hamburger-menu-label_xyl9p_819"},k=(s,d)=>{const u=t.useRef(null),h=t.useRef(null),m=t.useRef(null),[l,c]=t.useState(!1);return t.useEffect(()=>{const i=document.querySelector("#root"),x=h.current,g=x?Array.from(x.querySelectorAll("*")):[],o=i?Array.from(i.querySelectorAll("*")).filter(n=>x&&!n.contains(x)&&!g.includes(n)):[],f=m.current;let b=null;const _=n=>{n.key==="Escape"&&(d(),c(!0))};return s?(o.forEach(n=>{n==null||n.setAttribute("inert",""),n==null||n.setAttribute("aria-hidden","true"),n.style.pointerEvents="none",n.style.backgroundColor="rgba(0, 0, 0, 0.5)",n.style.transition="all 0.5s"}),b=setTimeout(()=>{f==null||f.focus()},100),document.addEventListener("keydown",_)):(o.forEach(n=>{n==null||n.removeAttribute("inert"),n==null||n.removeAttribute("aria-hidden"),n.style.pointerEvents="",n.style.backgroundColor="",n.style.transition=""}),document.removeEventListener("keydown",_)),()=>{o.forEach(n=>{n==null||n.removeAttribute("inert"),n==null||n.removeAttribute("aria-hidden"),n.style.pointerEvents="",n.style.backgroundColor="",n.style.transition=""}),b&&clearTimeout(b),document.removeEventListener("keydown",_)}},[s,d]),t.useEffect(()=>{var i;!s&&l&&((i=u.current)==null||i.focus(),c(!1))},[s,l]),{triggerRef:u,dialogRef:h,firstFocusableElementRef:m}},N=({firstFocusableElementRef:s,onNavLinkClick:d})=>{const[u,h]=t.useState(!1),m=t.useRef(null),l=y(),c=l==null?void 0:l.pathname.split("/").pop(),i=()=>{h(!u)},x=()=>{h(!1)},g=()=>{i()},o=()=>{d(),x()},f=b=>{b.key==="Escape"&&x()};return t.useEffect(()=>(document.addEventListener("keydown",f),()=>{document.removeEventListener("keydown",f)}),[]),e.jsx(e.Fragment,{children:e.jsxs("ul",{role:"list",className:r["main-menu"],children:[e.jsxs("li",{className:`${r["sub-menu"]}`,children:[e.jsx("button",{type:"button",ref:s,onClick:g,"aria-expanded":u,className:`${r["sub-menu--button-arrow-down"]} ${u&&r["sub-menu--button-arrow-up"]} ${(a.VISION_AND_TEAM===c||a.GALLERY===c||a.BLOG===c)&&r["child-active"]}`,children:"About"}),e.jsxs("ul",{ref:m,children:[e.jsx("li",{children:e.jsx(p,{to:a.VISION_AND_TEAM,onClick:o,children:"Vision & Team"})}),e.jsx("li",{children:e.jsx(p,{to:a.GALLERY,onClick:o,children:"Gallery"})}),e.jsx("li",{children:e.jsx(p,{to:a.BLOG,onClick:o,children:"News / Blog"})})]})]}),e.jsx("li",{children:e.jsx(p,{to:a.ACTIVITIES,onClick:o,children:"Activities"})}),e.jsx("li",{children:e.jsx(p,{to:a.SUPPORT,onClick:o,children:"Support"})}),e.jsx("li",{children:e.jsx(p,{to:a.AFROLIST,onClick:o,children:"Afrolist"})}),e.jsx("li",{children:e.jsx("a",{href:"#",children:"EN"})})]})})},A=()=>{const[s,d]=t.useState(!1),u=()=>{m()},h=()=>{d(!s)},m=()=>{d(!1)},{triggerRef:l,dialogRef:c,firstFocusableElementRef:i}=k(s,m);return e.jsx(e.Fragment,{children:e.jsxs("nav",{ref:c,id:"main-nav","aria-label":"Select a page",className:`${s&&r["nav-fixed"]}`,children:[e.jsxs("button",{ref:l,type:"button","aria-expanded":s,"aria-controls":"main-nav",onClick:h,className:`${r["hamburger-menu"]} ${r["hamburger-menu--spring"]} ${s&&r["is-active"]}`,children:[e.jsx("span",{className:r["hamburger-menu-box"],children:e.jsx("span",{className:r["hamburger-menu-inner"]})}),!s&&e.jsx("span",{className:r["hamburger-menu-label"],children:"menu"}),s&&e.jsx("span",{className:r["hamburger-menu-label"],children:"close"})]}),e.jsx(N,{firstFocusableElementRef:i,onNavLinkClick:u})]})})},T=()=>e.jsx(e.Fragment,{children:e.jsxs("header",{children:[e.jsx("a",{href:"#main-content",className:r["skip-to-main"],children:"Skip to Main Content"}),e.jsx(j,{to:a.HOME,className:r.logo,children:e.jsx("img",{src:v,alt:"AfroTreff homepage",className:r["logo-image"]})}),e.jsx(A,{})]})});export{T as default};
