import{r as i,j as e,b,c as w,a as j,P as v}from"./index-Bxl9WmHa.js";import{L as N}from"./LinkOpenInNewWindow-DPRY1dEp.js";import{H as k}from"./HeadingTopSmallVariant-C_S3W-6M.js";import{u as $}from"./useFetchData-BGt6npwu.js";const I=()=>{const o=i.useRef(null),l=`modal-dialog-style-${Date.now()}`,_=()=>{if(o.current!==null){o.current.showModal();const a=document.createElement("style");a.setAttribute("type","text/css"),a.setAttribute("id",l),a.textContent="html, body { height: auto ! important ; overflow: hidden ! important ; }",document.head.prepend(a)}},s=()=>{if(o.current!==null){o.current.close();const a=document.head.querySelector(`style[id="${l}"]`);a==null||a.remove()}};return i.useEffect(()=>{const a=n=>{const d=document.head.querySelector(`style[id="${l}"]`);n.key==="Escape"&&(d==null||d.remove())};return document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)}},[l]),{dialogRef:o,openModal:_,closeModal:s}},q="_zoom_nqgqo_1",t={"modal-dialog__dialog":"_modal-dialog__dialog_nqgqo_1","modal-dialog__button":"_modal-dialog__button_nqgqo_19","modal-dialog__button--close":"_modal-dialog__button--close_nqgqo_45","modal-dialog__button--smaller-size":"_modal-dialog__button--smaller-size_nqgqo_53","visually-hidden":"_visually-hidden_nqgqo_61",zoom:q},M="/afroTreff/assets/expand_fullscreen_icon-BuojQr2u.svg",z="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%201024%201024'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='%23fff'%20d='M195.2%20195.2a64%2064%200%200%201%2090.496%200L512%20421.504%20738.304%20195.2a64%2064%200%200%201%2090.496%2090.496L602.496%20512%20828.8%20738.304a64%2064%200%200%201-90.496%2090.496L512%20602.496%20285.696%20828.8a64%2064%200%200%201-90.496-90.496L421.504%20512%20195.2%20285.696a64%2064%200%200%201%200-90.496z'/%3e%3c/svg%3e",E=({dialogTitle:o,styleDialog:l,openButtonText:_,closeButtonText:s,styleopenButton:a,openButtonWrapperClassName:n,closeButtonWrapperClassName:d,children:y})=>{const{dialogRef:p,openModal:h,closeModal:x}=I(),c=i.useId(),u=i.useId(),g=i.useId();return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:n,children:e.jsxs("button",{type:"button",onClick:h,style:a,"aria-labelledby":`expand-fullscreen-icon-${u}`,className:`${t["modal-dialog__button"]} ${!_&&t["modal-dialog__button--smaller-size"]}`,children:[_,!_&&e.jsxs(e.Fragment,{children:[e.jsx("img",{src:M,alt:"",role:"presentation","aria-hidden":"true",className:t["modal-dialog__expand-fullscreen-icon"]}),e.jsx("span",{id:`expand-fullscreen-icon-${u}`,className:t["visually-hidden"],children:"View image on fullscreen"})]})]})}),e.jsxs("dialog",{ref:p,className:t["modal-dialog__dialog"],style:l,"aria-describedby":`dialog-title-${c}`,children:[e.jsx("h2",{id:`dialog-title-${c}`,className:t["visually-hidden"],children:`Image of ${o}`}),e.jsx("div",{className:d,children:e.jsxs("button",{type:"button",autoFocus:!0,"aria-labelledby":`close-fullscreen-icon-${g}`,onClick:x,style:a,className:`${t["modal-dialog__button"]} ${t["modal-dialog__button--close"]}  ${!s&&t["modal-dialog__button--smaller-size"]}`,children:[s,!s&&e.jsxs(e.Fragment,{children:[e.jsx("img",{src:z,alt:"",role:"presentation","aria-hidden":"true",className:t["modal-dialog__expand-fullscreen-icon"]}),e.jsx("span",{id:`close-fullscreen-icon-${g}`,className:t["visually-hidden"],children:"Close and return to normal view"})]})]})}),y]})]})},F="_gallery__grid_1kmya_1",L="_gallery__container_1kmya_15",S="_gallery__image_1kmya_25",m={gallery__grid:F,gallery__container:L,gallery__image:S,"gallery__image-wrapper":"_gallery__image-wrapper_1kmya_41","gallery__view-image-button-wrapper":"_gallery__view-image-button-wrapper_1kmya_55","gallery__image-modal":"_gallery__image-modal_1kmya_87"},D=({imageSrc:o,imageAlt:l})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:m.gallery__container,children:[e.jsx("div",{className:m["gallery__image-wrapper"],children:e.jsx("img",{src:o,alt:l,loading:"lazy",className:m.gallery__image})}),e.jsx(E,{dialogTitle:l,openButtonWrapperClassName:m["gallery__view-image-button-wrapper"],styleDialog:{overflow:"hidden"},children:e.jsx("img",{src:o,alt:l,loading:"lazy",className:m["gallery__image-modal"]})})]})}),r={"photo-gallery__container":"_photo-gallery__container_1p9p1_1","photo-gallery__hero-section":"_photo-gallery__hero-section_1p9p1_13","photo-gallery__images-container":"_photo-gallery__images-container_1p9p1_37","photo-gallery__images-wrapper":"_photo-gallery__images-wrapper_1p9p1_51","photo-gallery__images-heading-wrapper":"_photo-gallery__images-heading-wrapper_1p9p1_67","photo-gallery__text":"_photo-gallery__text_1p9p1_93","photo-gallery__images-heading":"_photo-gallery__images-heading_1p9p1_67","photo-gallery__grid":"_photo-gallery__grid_1p9p1_117","photo-gallery__back-to-top":"_photo-gallery__back-to-top_1p9p1_147","visually-hidden":"_visually-hidden_1p9p1_179","photo-gallery__back-to-top-arrow":"_photo-gallery__back-to-top-arrow_1p9p1_199"},G=()=>{var p;const o=i.useRef(null),l=b(),_=w(),{t:s}=j(),a=(p=_.meetUpMonth)==null?void 0:p.split("__")[1],[n,d]=$(`*[slug.current == "${a}"]{
      language, 
      month,
      year,
        "images": photos[]{
          imageDescription_alt,
          "url": asset->url,
      },
      previewBackgroundImage{
        'url': asset->url
      },
    }`,[]);i.useEffect(()=>{n||l("../",{replace:!0})},[n,l]);const y=()=>{window.scrollTo({top:0,behavior:"smooth"})};return d||n.length===0?e.jsx(v,{}):e.jsx(e.Fragment,{children:n&&n.map(({month:h,year:x,images:c,previewBackgroundImage:u})=>e.jsx(i.Fragment,{children:e.jsxs("section",{className:r["photo-gallery__container"],children:[e.jsx("div",{className:r["photo-gallery__hero-section"],style:{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),
                    url(${u.url})`}}),e.jsxs("div",{className:r["photo-gallery__images-container"],children:[e.jsxs("div",{className:r["photo-gallery__images-wrapper"],children:[e.jsx("div",{ref:o,className:r["photo-gallery__images-heading-wrapper"],children:e.jsx(k,{h1SmallerVariant:`${s("photo_shots_from")}`,h1BiggerVariant:`${h}, ${x}`})}),e.jsx("div",{className:r["photo-gallery__grid"],children:c&&c.map(({url:g,imageDescription_alt:f})=>e.jsx(i.Fragment,{children:e.jsx(D,{imageSrc:g,imageAlt:f})},`${g}-${Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}`))}),e.jsxs("p",{className:r["photo-gallery__text"],children:[s("explore_more_photos")," ",e.jsx(N,{href:"https://www.instagram.com/afrotreff/?hl=en",text:"Instagram"})]})]}),e.jsxs("button",{type:"button",className:r["photo-gallery__back-to-top"],onClick:y,children:[e.jsx("span",{className:r["photo-gallery__back-to-top-arrow"]}),e.jsx("span",{className:r["visually-hidden"],children:s("back_to_top")})]})]})]})},h))})};export{G as default};
